{"ast":null,"code":"'use strict';\n\nexports.name = 'addAttributesToSVGElement';\nexports.type = 'visitor';\nexports.active = false;\nexports.description = 'adds attributes to an outer <svg> element';\nvar ENOCLS = `Error in plugin \"addAttributesToSVGElement\": absent parameters.\nIt should have a list of \"attributes\" or one \"attribute\".\nConfig example:\n\nplugins: [\n  {\n    name: 'addAttributesToSVGElement',\n    params: {\n      attribute: \"mySvg\"\n    }\n  }\n]\n\nplugins: [\n  {\n    name: 'addAttributesToSVGElement',\n    params: {\n      attributes: [\"mySvg\", \"size-big\"]\n    }\n  }\n]\n\nplugins: [\n  {\n    name: 'addAttributesToSVGElement',\n    params: {\n      attributes: [\n        {\n          focusable: false\n        },\n        {\n          'data-image': icon\n        }\n      ]\n    }\n  }\n]\n`;\n/**\n * Add attributes to an outer <svg> element. Example config:\n *\n * @author April Arcus\n *\n * @type {import('../lib/types').Plugin<{\n *   attribute?: string | Record<string, null | string>,\n *   attributes?: Array<string | Record<string, null | string>>\n * }>}\n */\n\nexports.fn = (root, params) => {\n  if (!Array.isArray(params.attributes) && !params.attribute) {\n    console.error(ENOCLS);\n    return null;\n  }\n\n  const attributes = params.attributes || [params.attribute];\n  return {\n    element: {\n      enter: (node, parentNode) => {\n        if (node.name === 'svg' && parentNode.type === 'root') {\n          for (const attribute of attributes) {\n            if (typeof attribute === 'string') {\n              if (node.attributes[attribute] == null) {\n                // @ts-ignore disallow explicit nullable attribute value\n                node.attributes[attribute] = undefined;\n              }\n            }\n\n            if (typeof attribute === 'object') {\n              for (const key of Object.keys(attribute)) {\n                if (node.attributes[key] == null) {\n                  // @ts-ignore disallow explicit nullable attribute value\n                  node.attributes[key] = attribute[key];\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n};","map":{"version":3,"sources":["/home/hp/Js/React_practise/BookStore/books/node_modules/postcss-svgo/node_modules/svgo/plugins/addAttributesToSVGElement.js"],"names":["exports","name","type","active","description","ENOCLS","fn","root","params","Array","isArray","attributes","attribute","console","error","element","enter","node","parentNode","undefined","key","Object","keys"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,IAAR,GAAe,2BAAf;AACAD,OAAO,CAACE,IAAR,GAAe,SAAf;AACAF,OAAO,CAACG,MAAR,GAAiB,KAAjB;AACAH,OAAO,CAACI,WAAR,GAAsB,2CAAtB;AAEA,IAAIC,MAAM,GAAI;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CArCA;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAL,OAAO,CAACM,EAAR,GAAa,CAACC,IAAD,EAAOC,MAAP,KAAkB;AAC7B,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,MAAM,CAACG,UAArB,CAAD,IAAqC,CAACH,MAAM,CAACI,SAAjD,EAA4D;AAC1DC,IAAAA,OAAO,CAACC,KAAR,CAAcT,MAAd;AACA,WAAO,IAAP;AACD;;AACD,QAAMM,UAAU,GAAGH,MAAM,CAACG,UAAP,IAAqB,CAACH,MAAM,CAACI,SAAR,CAAxC;AACA,SAAO;AACLG,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAE,CAACC,IAAD,EAAOC,UAAP,KAAsB;AAC3B,YAAID,IAAI,CAAChB,IAAL,KAAc,KAAd,IAAuBiB,UAAU,CAAChB,IAAX,KAAoB,MAA/C,EAAuD;AACrD,eAAK,MAAMU,SAAX,IAAwBD,UAAxB,EAAoC;AAClC,gBAAI,OAAOC,SAAP,KAAqB,QAAzB,EAAmC;AACjC,kBAAIK,IAAI,CAACN,UAAL,CAAgBC,SAAhB,KAA8B,IAAlC,EAAwC;AACtC;AACAK,gBAAAA,IAAI,CAACN,UAAL,CAAgBC,SAAhB,IAA6BO,SAA7B;AACD;AACF;;AACD,gBAAI,OAAOP,SAAP,KAAqB,QAAzB,EAAmC;AACjC,mBAAK,MAAMQ,GAAX,IAAkBC,MAAM,CAACC,IAAP,CAAYV,SAAZ,CAAlB,EAA0C;AACxC,oBAAIK,IAAI,CAACN,UAAL,CAAgBS,GAAhB,KAAwB,IAA5B,EAAkC;AAChC;AACAH,kBAAAA,IAAI,CAACN,UAAL,CAAgBS,GAAhB,IAAuBR,SAAS,CAACQ,GAAD,CAAhC;AACD;AACF;AACF;AACF;AACF;AACF;AApBM;AADJ,GAAP;AAwBD,CA9BD","sourcesContent":["'use strict';\n\nexports.name = 'addAttributesToSVGElement';\nexports.type = 'visitor';\nexports.active = false;\nexports.description = 'adds attributes to an outer <svg> element';\n\nvar ENOCLS = `Error in plugin \"addAttributesToSVGElement\": absent parameters.\nIt should have a list of \"attributes\" or one \"attribute\".\nConfig example:\n\nplugins: [\n  {\n    name: 'addAttributesToSVGElement',\n    params: {\n      attribute: \"mySvg\"\n    }\n  }\n]\n\nplugins: [\n  {\n    name: 'addAttributesToSVGElement',\n    params: {\n      attributes: [\"mySvg\", \"size-big\"]\n    }\n  }\n]\n\nplugins: [\n  {\n    name: 'addAttributesToSVGElement',\n    params: {\n      attributes: [\n        {\n          focusable: false\n        },\n        {\n          'data-image': icon\n        }\n      ]\n    }\n  }\n]\n`;\n\n/**\n * Add attributes to an outer <svg> element. Example config:\n *\n * @author April Arcus\n *\n * @type {import('../lib/types').Plugin<{\n *   attribute?: string | Record<string, null | string>,\n *   attributes?: Array<string | Record<string, null | string>>\n * }>}\n */\nexports.fn = (root, params) => {\n  if (!Array.isArray(params.attributes) && !params.attribute) {\n    console.error(ENOCLS);\n    return null;\n  }\n  const attributes = params.attributes || [params.attribute];\n  return {\n    element: {\n      enter: (node, parentNode) => {\n        if (node.name === 'svg' && parentNode.type === 'root') {\n          for (const attribute of attributes) {\n            if (typeof attribute === 'string') {\n              if (node.attributes[attribute] == null) {\n                // @ts-ignore disallow explicit nullable attribute value\n                node.attributes[attribute] = undefined;\n              }\n            }\n            if (typeof attribute === 'object') {\n              for (const key of Object.keys(attribute)) {\n                if (node.attributes[key] == null) {\n                  // @ts-ignore disallow explicit nullable attribute value\n                  node.attributes[key] = attribute[key];\n                }\n              }\n            }\n          }\n        }\n      },\n    },\n  };\n};\n"]},"metadata":{},"sourceType":"script"}