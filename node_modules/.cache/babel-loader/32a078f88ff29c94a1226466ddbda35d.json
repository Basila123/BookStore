{"ast":null,"code":"'use strict';\n\nconst path = require('path');\n\nconst valueParser = require('postcss-value-parser');\n\nconst normalize = require('normalize-url');\n\nconst multiline = /\\\\[\\r\\n]/; // eslint-disable-next-line no-useless-escape\n\nconst escapeChars = /([\\s\\(\\)\"'])/g; // Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/; // Windows paths like `c:\\`\n\nconst WINDOWS_PATH_REGEX = /^[a-zA-Z]:\\\\/;\n/**\n * Originally in sindresorhus/is-absolute-url\n *\n * @param {string} url\n */\n\nfunction isAbsolute(url) {\n  if (WINDOWS_PATH_REGEX.test(url)) {\n    return false;\n  }\n\n  return ABSOLUTE_URL_REGEX.test(url);\n}\n\nfunction convert(url, options) {\n  if (isAbsolute(url) || url.startsWith('//')) {\n    let normalizedURL = null;\n\n    try {\n      normalizedURL = normalize(url, options);\n    } catch (e) {\n      normalizedURL = url;\n    }\n\n    return normalizedURL;\n  } // `path.normalize` always returns backslashes on Windows, need replace in `/`\n\n\n  return path.normalize(url).replace(new RegExp('\\\\' + path.sep, 'g'), '/');\n}\n\nfunction transformNamespace(rule) {\n  rule.params = valueParser(rule.params).walk(node => {\n    if (node.type === 'function' && node.value.toLowerCase() === 'url' && node.nodes.length) {\n      node.type = 'string';\n      node.quote = node.nodes[0].quote || '\"';\n      node.value = node.nodes[0].value;\n    }\n\n    if (node.type === 'string') {\n      node.value = node.value.trim();\n    }\n\n    return false;\n  }).toString();\n}\n\nfunction transformDecl(decl, opts) {\n  decl.value = valueParser(decl.value).walk(node => {\n    if (node.type !== 'function' || node.value.toLowerCase() !== 'url') {\n      return false;\n    }\n\n    node.before = node.after = '';\n\n    if (!node.nodes.length) {\n      return false;\n    }\n\n    let url = node.nodes[0];\n    let escaped;\n    url.value = url.value.trim().replace(multiline, ''); // Skip empty URLs\n    // Empty URL function equals request to current stylesheet where it is declared\n\n    if (url.value.length === 0) {\n      url.quote = '';\n      return false;\n    }\n\n    if (/^data:(.*)?,/i.test(url.value)) {\n      return false;\n    }\n\n    if (!/^.+-extension:\\//i.test(url.value)) {\n      url.value = convert(url.value, opts);\n    }\n\n    if (escapeChars.test(url.value) && url.type === 'string') {\n      escaped = url.value.replace(escapeChars, '\\\\$1');\n\n      if (escaped.length < url.value.length + 2) {\n        url.value = escaped;\n        url.type = 'word';\n      }\n    } else {\n      url.type = 'word';\n    }\n\n    return false;\n  }).toString();\n}\n\nfunction pluginCreator(opts) {\n  opts = Object.assign({}, {\n    normalizeProtocol: false,\n    sortQueryParameters: false,\n    stripHash: false,\n    stripWWW: false,\n    stripTextFragment: false\n  }, opts);\n  return {\n    postcssPlugin: 'postcss-normalize-url',\n\n    OnceExit(css) {\n      css.walk(node => {\n        if (node.type === 'decl') {\n          return transformDecl(node, opts);\n        } else if (node.type === 'atrule' && node.name.toLowerCase() === 'namespace') {\n          return transformNamespace(node);\n        }\n      });\n    }\n\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;","map":{"version":3,"sources":["/home/hp/Js/React_practise/BookStore/books/node_modules/postcss-normalize-url/src/index.js"],"names":["path","require","valueParser","normalize","multiline","escapeChars","ABSOLUTE_URL_REGEX","WINDOWS_PATH_REGEX","isAbsolute","url","test","convert","options","startsWith","normalizedURL","e","replace","RegExp","sep","transformNamespace","rule","params","walk","node","type","value","toLowerCase","nodes","length","quote","trim","toString","transformDecl","decl","opts","before","after","escaped","pluginCreator","Object","assign","normalizeProtocol","sortQueryParameters","stripHash","stripWWW","stripTextFragment","postcssPlugin","OnceExit","css","name","postcss","module","exports"],"mappings":"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","sourcesContent":["'use strict';\nconst path = require('path');\nconst valueParser = require('postcss-value-parser');\nconst normalize = require('normalize-url');\n\nconst multiline = /\\\\[\\r\\n]/;\n// eslint-disable-next-line no-useless-escape\nconst escapeChars = /([\\s\\(\\)\"'])/g;\n\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/;\n// Windows paths like `c:\\`\nconst WINDOWS_PATH_REGEX = /^[a-zA-Z]:\\\\/;\n\n/**\n * Originally in sindresorhus/is-absolute-url\n *\n * @param {string} url\n */\nfunction isAbsolute(url) {\n  if (WINDOWS_PATH_REGEX.test(url)) {\n    return false;\n  }\n  return ABSOLUTE_URL_REGEX.test(url);\n}\n\nfunction convert(url, options) {\n  if (isAbsolute(url) || url.startsWith('//')) {\n    let normalizedURL = null;\n\n    try {\n      normalizedURL = normalize(url, options);\n    } catch (e) {\n      normalizedURL = url;\n    }\n\n    return normalizedURL;\n  }\n\n  // `path.normalize` always returns backslashes on Windows, need replace in `/`\n  return path.normalize(url).replace(new RegExp('\\\\' + path.sep, 'g'), '/');\n}\n\nfunction transformNamespace(rule) {\n  rule.params = valueParser(rule.params)\n    .walk((node) => {\n      if (\n        node.type === 'function' &&\n        node.value.toLowerCase() === 'url' &&\n        node.nodes.length\n      ) {\n        node.type = 'string';\n        node.quote = node.nodes[0].quote || '\"';\n        node.value = node.nodes[0].value;\n      }\n      if (node.type === 'string') {\n        node.value = node.value.trim();\n      }\n      return false;\n    })\n    .toString();\n}\n\nfunction transformDecl(decl, opts) {\n  decl.value = valueParser(decl.value)\n    .walk((node) => {\n      if (node.type !== 'function' || node.value.toLowerCase() !== 'url') {\n        return false;\n      }\n\n      node.before = node.after = '';\n\n      if (!node.nodes.length) {\n        return false;\n      }\n      let url = node.nodes[0];\n      let escaped;\n\n      url.value = url.value.trim().replace(multiline, '');\n\n      // Skip empty URLs\n      // Empty URL function equals request to current stylesheet where it is declared\n      if (url.value.length === 0) {\n        url.quote = '';\n\n        return false;\n      }\n\n      if (/^data:(.*)?,/i.test(url.value)) {\n        return false;\n      }\n\n      if (!/^.+-extension:\\//i.test(url.value)) {\n        url.value = convert(url.value, opts);\n      }\n\n      if (escapeChars.test(url.value) && url.type === 'string') {\n        escaped = url.value.replace(escapeChars, '\\\\$1');\n\n        if (escaped.length < url.value.length + 2) {\n          url.value = escaped;\n          url.type = 'word';\n        }\n      } else {\n        url.type = 'word';\n      }\n\n      return false;\n    })\n    .toString();\n}\n\nfunction pluginCreator(opts) {\n  opts = Object.assign(\n    {},\n    {\n      normalizeProtocol: false,\n      sortQueryParameters: false,\n      stripHash: false,\n      stripWWW: false,\n      stripTextFragment: false,\n    },\n    opts\n  );\n\n  return {\n    postcssPlugin: 'postcss-normalize-url',\n\n    OnceExit(css) {\n      css.walk((node) => {\n        if (node.type === 'decl') {\n          return transformDecl(node, opts);\n        } else if (\n          node.type === 'atrule' &&\n          node.name.toLowerCase() === 'namespace'\n        ) {\n          return transformNamespace(node);\n        }\n      });\n    },\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;\n"]},"metadata":{},"sourceType":"script"}