{"ast":null,"code":"'use strict';\n\nconst browserslist = require('browserslist');\n\nconst {\n  isSupported\n} = require('caniuse-api');\n\nconst fromInitial = require('../data/fromInitial.json');\n\nconst toInitial = require('../data/toInitial.json');\n\nconst initial = 'initial'; // In most of the browser including chrome the initial for `writing-mode` is not `horizontal-tb`. Ref https://github.com/cssnano/cssnano/pull/905\n\nconst defaultIgnoreProps = ['writing-mode', 'transform-box'];\n\nfunction pluginCreator() {\n  return {\n    postcssPlugin: 'postcss-reduce-initial',\n\n    prepare(result) {\n      const resultOpts = result.opts || {};\n      const browsers = browserslist(null, {\n        stats: resultOpts.stats,\n        path: __dirname,\n        env: resultOpts.env\n      });\n      const initialSupport = isSupported('css-initial-value', browsers);\n      return {\n        OnceExit(css) {\n          css.walkDecls(decl => {\n            const lowerCasedProp = decl.prop.toLowerCase();\n            const ignoreProp = new Set(defaultIgnoreProps.concat(resultOpts.ignore || []));\n\n            if (ignoreProp.has(lowerCasedProp)) {\n              return;\n            }\n\n            if (initialSupport && Object.prototype.hasOwnProperty.call(toInitial, lowerCasedProp) && decl.value.toLowerCase() === toInitial[lowerCasedProp]) {\n              decl.value = initial;\n              return;\n            }\n\n            if (decl.value.toLowerCase() !== initial || !fromInitial[lowerCasedProp]) {\n              return;\n            }\n\n            decl.value = fromInitial[lowerCasedProp];\n          });\n        }\n\n      };\n    }\n\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;","map":{"version":3,"sources":["/home/hp/Js/React_practise/BookStore/books/node_modules/postcss-reduce-initial/src/index.js"],"names":["browserslist","require","isSupported","fromInitial","toInitial","initial","defaultIgnoreProps","pluginCreator","postcssPlugin","prepare","result","resultOpts","opts","browsers","stats","path","__dirname","env","initialSupport","OnceExit","css","walkDecls","decl","lowerCasedProp","prop","toLowerCase","ignoreProp","Set","concat","ignore","has","Object","prototype","hasOwnProperty","call","value","postcss","module","exports"],"mappings":"AAAA;;AACA,MAAMA,YAAY,GAAGC,OAAO,CAAC,cAAD,CAA5B;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAkBD,OAAO,CAAC,aAAD,CAA/B;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,0BAAD,CAA3B;;AACA,MAAMG,SAAS,GAAGH,OAAO,CAAC,wBAAD,CAAzB;;AAEA,MAAMI,OAAO,GAAG,SAAhB,C,CAEA;;AACA,MAAMC,kBAAkB,GAAG,CAAC,cAAD,EAAiB,eAAjB,CAA3B;;AAEA,SAASC,aAAT,GAAyB;AACvB,SAAO;AACLC,IAAAA,aAAa,EAAE,wBADV;;AAGLC,IAAAA,OAAO,CAACC,MAAD,EAAS;AACd,YAAMC,UAAU,GAAGD,MAAM,CAACE,IAAP,IAAe,EAAlC;AACA,YAAMC,QAAQ,GAAGb,YAAY,CAAC,IAAD,EAAO;AAClCc,QAAAA,KAAK,EAAEH,UAAU,CAACG,KADgB;AAElCC,QAAAA,IAAI,EAAEC,SAF4B;AAGlCC,QAAAA,GAAG,EAAEN,UAAU,CAACM;AAHkB,OAAP,CAA7B;AAMA,YAAMC,cAAc,GAAGhB,WAAW,CAAC,mBAAD,EAAsBW,QAAtB,CAAlC;AACA,aAAO;AACLM,QAAAA,QAAQ,CAACC,GAAD,EAAM;AACZA,UAAAA,GAAG,CAACC,SAAJ,CAAeC,IAAD,IAAU;AACtB,kBAAMC,cAAc,GAAGD,IAAI,CAACE,IAAL,CAAUC,WAAV,EAAvB;AACA,kBAAMC,UAAU,GAAG,IAAIC,GAAJ,CACjBrB,kBAAkB,CAACsB,MAAnB,CAA0BjB,UAAU,CAACkB,MAAX,IAAqB,EAA/C,CADiB,CAAnB;;AAIA,gBAAIH,UAAU,CAACI,GAAX,CAAeP,cAAf,CAAJ,EAAoC;AAClC;AACD;;AAED,gBACEL,cAAc,IACda,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqC9B,SAArC,EAAgDmB,cAAhD,CADA,IAEAD,IAAI,CAACa,KAAL,CAAWV,WAAX,OAA6BrB,SAAS,CAACmB,cAAD,CAHxC,EAIE;AACAD,cAAAA,IAAI,CAACa,KAAL,GAAa9B,OAAb;AACA;AACD;;AAED,gBACEiB,IAAI,CAACa,KAAL,CAAWV,WAAX,OAA6BpB,OAA7B,IACA,CAACF,WAAW,CAACoB,cAAD,CAFd,EAGE;AACA;AACD;;AAEDD,YAAAA,IAAI,CAACa,KAAL,GAAahC,WAAW,CAACoB,cAAD,CAAxB;AACD,WA3BD;AA4BD;;AA9BI,OAAP;AAgCD;;AA5CI,GAAP;AA8CD;;AAEDhB,aAAa,CAAC6B,OAAd,GAAwB,IAAxB;AACAC,MAAM,CAACC,OAAP,GAAiB/B,aAAjB","sourcesContent":["'use strict';\nconst browserslist = require('browserslist');\nconst { isSupported } = require('caniuse-api');\nconst fromInitial = require('../data/fromInitial.json');\nconst toInitial = require('../data/toInitial.json');\n\nconst initial = 'initial';\n\n// In most of the browser including chrome the initial for `writing-mode` is not `horizontal-tb`. Ref https://github.com/cssnano/cssnano/pull/905\nconst defaultIgnoreProps = ['writing-mode', 'transform-box'];\n\nfunction pluginCreator() {\n  return {\n    postcssPlugin: 'postcss-reduce-initial',\n\n    prepare(result) {\n      const resultOpts = result.opts || {};\n      const browsers = browserslist(null, {\n        stats: resultOpts.stats,\n        path: __dirname,\n        env: resultOpts.env,\n      });\n\n      const initialSupport = isSupported('css-initial-value', browsers);\n      return {\n        OnceExit(css) {\n          css.walkDecls((decl) => {\n            const lowerCasedProp = decl.prop.toLowerCase();\n            const ignoreProp = new Set(\n              defaultIgnoreProps.concat(resultOpts.ignore || [])\n            );\n\n            if (ignoreProp.has(lowerCasedProp)) {\n              return;\n            }\n\n            if (\n              initialSupport &&\n              Object.prototype.hasOwnProperty.call(toInitial, lowerCasedProp) &&\n              decl.value.toLowerCase() === toInitial[lowerCasedProp]\n            ) {\n              decl.value = initial;\n              return;\n            }\n\n            if (\n              decl.value.toLowerCase() !== initial ||\n              !fromInitial[lowerCasedProp]\n            ) {\n              return;\n            }\n\n            decl.value = fromInitial[lowerCasedProp];\n          });\n        },\n      };\n    },\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;\n"]},"metadata":{},"sourceType":"script"}