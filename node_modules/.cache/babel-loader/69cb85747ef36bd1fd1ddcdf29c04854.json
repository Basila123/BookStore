{"ast":null,"code":"'use strict';\n\nconst {\n  unit\n} = require('postcss-value-parser');\n\nconst {\n  getArguments\n} = require('cssnano-utils');\n\nconst addSpace = require('../lib/addSpace');\n\nconst getValue = require('../lib/getValue'); // animation: [ none | <keyframes-name> ] || <time> || <single-timing-function> || <time> || <single-animation-iteration-count> || <single-animation-direction> || <single-animation-fill-mode> || <single-animation-play-state>\n\n\nconst functions = new Set(['steps', 'cubic-bezier', 'frames']);\nconst keywords = new Set(['ease', 'ease-in', 'ease-in-out', 'ease-out', 'linear', 'step-end', 'step-start']);\nconst directions = new Set(['normal', 'reverse', 'alternate', 'alternate-reverse']);\nconst fillModes = new Set(['none', 'forwards', 'backwards', 'both']);\nconst playStates = new Set(['running', 'paused']);\nconst timeUnits = new Set(['ms', 's']);\n\nconst isTimingFunction = (value, type) => {\n  return type === 'function' && functions.has(value) || keywords.has(value);\n};\n\nconst isDirection = value => {\n  return directions.has(value);\n};\n\nconst isFillMode = value => {\n  return fillModes.has(value);\n};\n\nconst isPlayState = value => {\n  return playStates.has(value);\n};\n\nconst isTime = value => {\n  const quantity = unit(value);\n  return quantity && timeUnits.has(quantity.unit);\n};\n\nconst isIterationCount = value => {\n  const quantity = unit(value);\n  return value === 'infinite' || quantity && !quantity.unit;\n};\n\nconst stateConditions = [{\n  property: 'duration',\n  delegate: isTime\n}, {\n  property: 'timingFunction',\n  delegate: isTimingFunction\n}, {\n  property: 'delay',\n  delegate: isTime\n}, {\n  property: 'iterationCount',\n  delegate: isIterationCount\n}, {\n  property: 'direction',\n  delegate: isDirection\n}, {\n  property: 'fillMode',\n  delegate: isFillMode\n}, {\n  property: 'playState',\n  delegate: isPlayState\n}];\n/**\n * @param {import('postcss-value-parser').Node[][]} args\n * @return {import('postcss-value-parser').Node[][]}\n */\n\nfunction normalize(args) {\n  const list = [];\n\n  for (const arg of args) {\n    const state = {\n      name: [],\n      duration: [],\n      timingFunction: [],\n      delay: [],\n      iterationCount: [],\n      direction: [],\n      fillMode: [],\n      playState: []\n    };\n    arg.forEach(node => {\n      let {\n        type,\n        value\n      } = node;\n\n      if (type === 'space') {\n        return;\n      }\n\n      value = value.toLowerCase();\n      const hasMatch = stateConditions.some(_ref => {\n        let {\n          property,\n          delegate\n        } = _ref;\n\n        if (delegate(value, type) && !state[property].length) {\n          state[property] = [node, addSpace()];\n          return true;\n        }\n      });\n\n      if (!hasMatch) {\n        state.name = [...state.name, node, addSpace()];\n      }\n    });\n    list.push([...state.name, ...state.duration, ...state.timingFunction, ...state.delay, ...state.iterationCount, ...state.direction, ...state.fillMode, ...state.playState]);\n  }\n\n  return list;\n}\n/**\n * @param {import('postcss-value-parser').ParsedValue} parsed\n * @return {string}\n */\n\n\nmodule.exports = function normalizeAnimation(parsed) {\n  const values = normalize(getArguments(parsed));\n  return getValue(values);\n};","map":{"version":3,"sources":["/home/hp/Js/React_practise/BookStore/books/node_modules/postcss-ordered-values/src/rules/animation.js"],"names":["unit","require","getArguments","addSpace","getValue","functions","Set","keywords","directions","fillModes","playStates","timeUnits","isTimingFunction","value","type","has","isDirection","isFillMode","isPlayState","isTime","quantity","isIterationCount","stateConditions","property","delegate","normalize","args","list","arg","state","name","duration","timingFunction","delay","iterationCount","direction","fillMode","playState","forEach","node","toLowerCase","hasMatch","some","length","push","module","exports","normalizeAnimation","parsed","values"],"mappings":"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","sourcesContent":["'use strict';\nconst { unit } = require('postcss-value-parser');\nconst { getArguments } = require('cssnano-utils');\nconst addSpace = require('../lib/addSpace');\nconst getValue = require('../lib/getValue');\n\n// animation: [ none | <keyframes-name> ] || <time> || <single-timing-function> || <time> || <single-animation-iteration-count> || <single-animation-direction> || <single-animation-fill-mode> || <single-animation-play-state>\nconst functions = new Set(['steps', 'cubic-bezier', 'frames']);\nconst keywords = new Set([\n  'ease',\n  'ease-in',\n  'ease-in-out',\n  'ease-out',\n  'linear',\n  'step-end',\n  'step-start',\n]);\n\nconst directions = new Set([\n  'normal',\n  'reverse',\n  'alternate',\n  'alternate-reverse',\n]);\nconst fillModes = new Set(['none', 'forwards', 'backwards', 'both']);\nconst playStates = new Set(['running', 'paused']);\nconst timeUnits = new Set(['ms', 's']);\n\nconst isTimingFunction = (value, type) => {\n  return (type === 'function' && functions.has(value)) || keywords.has(value);\n};\n\nconst isDirection = (value) => {\n  return directions.has(value);\n};\n\nconst isFillMode = (value) => {\n  return fillModes.has(value);\n};\n\nconst isPlayState = (value) => {\n  return playStates.has(value);\n};\n\nconst isTime = (value) => {\n  const quantity = unit(value);\n\n  return quantity && timeUnits.has(quantity.unit);\n};\n\nconst isIterationCount = (value) => {\n  const quantity = unit(value);\n\n  return value === 'infinite' || (quantity && !quantity.unit);\n};\n\nconst stateConditions = [\n  { property: 'duration', delegate: isTime },\n  { property: 'timingFunction', delegate: isTimingFunction },\n  { property: 'delay', delegate: isTime },\n  { property: 'iterationCount', delegate: isIterationCount },\n  { property: 'direction', delegate: isDirection },\n  { property: 'fillMode', delegate: isFillMode },\n  { property: 'playState', delegate: isPlayState },\n];\n/**\n * @param {import('postcss-value-parser').Node[][]} args\n * @return {import('postcss-value-parser').Node[][]}\n */\nfunction normalize(args) {\n  const list = [];\n\n  for (const arg of args) {\n    const state = {\n      name: [],\n      duration: [],\n      timingFunction: [],\n      delay: [],\n      iterationCount: [],\n      direction: [],\n      fillMode: [],\n      playState: [],\n    };\n\n    arg.forEach((node) => {\n      let { type, value } = node;\n\n      if (type === 'space') {\n        return;\n      }\n\n      value = value.toLowerCase();\n\n      const hasMatch = stateConditions.some(({ property, delegate }) => {\n        if (delegate(value, type) && !state[property].length) {\n          state[property] = [node, addSpace()];\n          return true;\n        }\n      });\n\n      if (!hasMatch) {\n        state.name = [...state.name, node, addSpace()];\n      }\n    });\n\n    list.push([\n      ...state.name,\n      ...state.duration,\n      ...state.timingFunction,\n      ...state.delay,\n      ...state.iterationCount,\n      ...state.direction,\n      ...state.fillMode,\n      ...state.playState,\n    ]);\n  }\n  return list;\n}\n/**\n * @param {import('postcss-value-parser').ParsedValue} parsed\n * @return {string}\n */\nmodule.exports = function normalizeAnimation(parsed) {\n  const values = normalize(getArguments(parsed));\n\n  return getValue(values);\n};\n"]},"metadata":{},"sourceType":"script"}