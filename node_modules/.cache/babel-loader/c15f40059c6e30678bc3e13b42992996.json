{"ast":null,"code":"'use strict';\n\nconst valueParser = require('postcss-value-parser');\n\nconst {\n  getArguments\n} = require('cssnano-utils');\n\nconst isColorStop = require('./isColorStop.js');\n\nconst angles = {\n  top: '0deg',\n  right: '90deg',\n  bottom: '180deg',\n  left: '270deg'\n};\n\nfunction isLessThan(a, b) {\n  return a.unit.toLowerCase() === b.unit.toLowerCase() && parseFloat(a.number) >= parseFloat(b.number);\n}\n\nfunction optimise(decl) {\n  const value = decl.value;\n\n  if (!value) {\n    return;\n  }\n\n  const normalizedValue = value.toLowerCase();\n\n  if (normalizedValue.includes('var(') || normalizedValue.includes('env(')) {\n    return;\n  }\n\n  if (!normalizedValue.includes('gradient')) {\n    return;\n  }\n\n  decl.value = valueParser(value).walk(node => {\n    if (node.type !== 'function' || !node.nodes.length) {\n      return false;\n    }\n\n    const lowerCasedValue = node.value.toLowerCase();\n\n    if (lowerCasedValue === 'linear-gradient' || lowerCasedValue === 'repeating-linear-gradient' || lowerCasedValue === '-webkit-linear-gradient' || lowerCasedValue === '-webkit-repeating-linear-gradient') {\n      let args = getArguments(node);\n\n      if (node.nodes[0].value.toLowerCase() === 'to' && args[0].length === 3) {\n        node.nodes = node.nodes.slice(2);\n        node.nodes[0].value = angles[node.nodes[0].value.toLowerCase()];\n      }\n\n      let lastStop = null;\n      args.forEach((arg, index) => {\n        if (arg.length !== 3) {\n          return;\n        }\n\n        let isFinalStop = index === args.length - 1;\n        let thisStop = valueParser.unit(arg[2].value);\n\n        if (lastStop === null) {\n          lastStop = thisStop;\n\n          if (!isFinalStop && lastStop && lastStop.number === '0' && lastStop.unit.toLowerCase() !== 'deg') {\n            arg[1].value = arg[2].value = '';\n          }\n\n          return;\n        }\n\n        if (lastStop && thisStop && isLessThan(lastStop, thisStop)) {\n          arg[2].value = '0';\n        }\n\n        lastStop = thisStop;\n\n        if (isFinalStop && arg[2].value === '100%') {\n          arg[1].value = arg[2].value = '';\n        }\n      });\n      return false;\n    }\n\n    if (lowerCasedValue === 'radial-gradient' || lowerCasedValue === 'repeating-radial-gradient') {\n      let args = getArguments(node);\n      let lastStop;\n      const hasAt = args[0].find(n => n.value.toLowerCase() === 'at');\n      args.forEach((arg, index) => {\n        if (!arg[2] || !index && hasAt) {\n          return;\n        }\n\n        let thisStop = valueParser.unit(arg[2].value);\n\n        if (!lastStop) {\n          lastStop = thisStop;\n          return;\n        }\n\n        if (lastStop && thisStop && isLessThan(lastStop, thisStop)) {\n          arg[2].value = '0';\n        }\n\n        lastStop = thisStop;\n      });\n      return false;\n    }\n\n    if (lowerCasedValue === '-webkit-radial-gradient' || lowerCasedValue === '-webkit-repeating-radial-gradient') {\n      let args = getArguments(node);\n      let lastStop;\n      args.forEach(arg => {\n        let color;\n        let stop;\n\n        if (arg[2] !== undefined) {\n          if (arg[0].type === 'function') {\n            color = `${arg[0].value}(${valueParser.stringify(arg[0].nodes)})`;\n          } else {\n            color = arg[0].value;\n          }\n\n          if (arg[2].type === 'function') {\n            stop = `${arg[2].value}(${valueParser.stringify(arg[2].nodes)})`;\n          } else {\n            stop = arg[2].value;\n          }\n        } else {\n          if (arg[0].type === 'function') {\n            color = `${arg[0].value}(${valueParser.stringify(arg[0].nodes)})`;\n          }\n\n          color = arg[0].value;\n        }\n\n        color = color.toLowerCase();\n        const colorStop = stop !== undefined ? isColorStop(color, stop.toLowerCase()) : isColorStop(color);\n\n        if (!colorStop || !arg[2]) {\n          return;\n        }\n\n        let thisStop = valueParser.unit(arg[2].value);\n\n        if (!lastStop) {\n          lastStop = thisStop;\n          return;\n        }\n\n        if (lastStop && thisStop && isLessThan(lastStop, thisStop)) {\n          arg[2].value = '0';\n        }\n\n        lastStop = thisStop;\n      });\n      return false;\n    }\n  }).toString();\n}\n\nfunction pluginCreator() {\n  return {\n    postcssPlugin: 'postcss-minify-gradients',\n\n    OnceExit(css) {\n      css.walkDecls(optimise);\n    }\n\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;","map":{"version":3,"sources":["/home/hp/Js/React_practise/BookStore/books/node_modules/postcss-minify-gradients/src/index.js"],"names":["valueParser","require","getArguments","isColorStop","angles","top","right","bottom","left","isLessThan","a","b","unit","toLowerCase","parseFloat","number","optimise","decl","value","normalizedValue","includes","walk","node","type","nodes","length","lowerCasedValue","args","slice","lastStop","forEach","arg","index","isFinalStop","thisStop","hasAt","find","n","color","stop","undefined","stringify","colorStop","toString","pluginCreator","postcssPlugin","OnceExit","css","walkDecls","postcss","module","exports"],"mappings":"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","sourcesContent":["'use strict';\nconst valueParser = require('postcss-value-parser');\nconst { getArguments } = require('cssnano-utils');\nconst isColorStop = require('./isColorStop.js');\n\nconst angles = {\n  top: '0deg',\n  right: '90deg',\n  bottom: '180deg',\n  left: '270deg',\n};\n\nfunction isLessThan(a, b) {\n  return (\n    a.unit.toLowerCase() === b.unit.toLowerCase() &&\n    parseFloat(a.number) >= parseFloat(b.number)\n  );\n}\n\nfunction optimise(decl) {\n  const value = decl.value;\n\n  if (!value) {\n    return;\n  }\n\n  const normalizedValue = value.toLowerCase();\n\n  if (normalizedValue.includes('var(') || normalizedValue.includes('env(')) {\n    return;\n  }\n\n  if (!normalizedValue.includes('gradient')) {\n    return;\n  }\n\n  decl.value = valueParser(value)\n    .walk((node) => {\n      if (node.type !== 'function' || !node.nodes.length) {\n        return false;\n      }\n\n      const lowerCasedValue = node.value.toLowerCase();\n\n      if (\n        lowerCasedValue === 'linear-gradient' ||\n        lowerCasedValue === 'repeating-linear-gradient' ||\n        lowerCasedValue === '-webkit-linear-gradient' ||\n        lowerCasedValue === '-webkit-repeating-linear-gradient'\n      ) {\n        let args = getArguments(node);\n\n        if (\n          node.nodes[0].value.toLowerCase() === 'to' &&\n          args[0].length === 3\n        ) {\n          node.nodes = node.nodes.slice(2);\n          node.nodes[0].value = angles[node.nodes[0].value.toLowerCase()];\n        }\n\n        let lastStop = null;\n\n        args.forEach((arg, index) => {\n          if (arg.length !== 3) {\n            return;\n          }\n\n          let isFinalStop = index === args.length - 1;\n          let thisStop = valueParser.unit(arg[2].value);\n\n          if (lastStop === null) {\n            lastStop = thisStop;\n\n            if (\n              !isFinalStop &&\n              lastStop &&\n              lastStop.number === '0' &&\n              lastStop.unit.toLowerCase() !== 'deg'\n            ) {\n              arg[1].value = arg[2].value = '';\n            }\n\n            return;\n          }\n\n          if (lastStop && thisStop && isLessThan(lastStop, thisStop)) {\n            arg[2].value = '0';\n          }\n\n          lastStop = thisStop;\n\n          if (isFinalStop && arg[2].value === '100%') {\n            arg[1].value = arg[2].value = '';\n          }\n        });\n\n        return false;\n      }\n\n      if (\n        lowerCasedValue === 'radial-gradient' ||\n        lowerCasedValue === 'repeating-radial-gradient'\n      ) {\n        let args = getArguments(node);\n        let lastStop;\n\n        const hasAt = args[0].find((n) => n.value.toLowerCase() === 'at');\n\n        args.forEach((arg, index) => {\n          if (!arg[2] || (!index && hasAt)) {\n            return;\n          }\n\n          let thisStop = valueParser.unit(arg[2].value);\n\n          if (!lastStop) {\n            lastStop = thisStop;\n\n            return;\n          }\n\n          if (lastStop && thisStop && isLessThan(lastStop, thisStop)) {\n            arg[2].value = '0';\n          }\n\n          lastStop = thisStop;\n        });\n\n        return false;\n      }\n\n      if (\n        lowerCasedValue === '-webkit-radial-gradient' ||\n        lowerCasedValue === '-webkit-repeating-radial-gradient'\n      ) {\n        let args = getArguments(node);\n        let lastStop;\n\n        args.forEach((arg) => {\n          let color;\n          let stop;\n\n          if (arg[2] !== undefined) {\n            if (arg[0].type === 'function') {\n              color = `${arg[0].value}(${valueParser.stringify(arg[0].nodes)})`;\n            } else {\n              color = arg[0].value;\n            }\n\n            if (arg[2].type === 'function') {\n              stop = `${arg[2].value}(${valueParser.stringify(arg[2].nodes)})`;\n            } else {\n              stop = arg[2].value;\n            }\n          } else {\n            if (arg[0].type === 'function') {\n              color = `${arg[0].value}(${valueParser.stringify(arg[0].nodes)})`;\n            }\n\n            color = arg[0].value;\n          }\n\n          color = color.toLowerCase();\n\n          const colorStop =\n            stop !== undefined\n              ? isColorStop(color, stop.toLowerCase())\n              : isColorStop(color);\n\n          if (!colorStop || !arg[2]) {\n            return;\n          }\n\n          let thisStop = valueParser.unit(arg[2].value);\n\n          if (!lastStop) {\n            lastStop = thisStop;\n\n            return;\n          }\n\n          if (lastStop && thisStop && isLessThan(lastStop, thisStop)) {\n            arg[2].value = '0';\n          }\n\n          lastStop = thisStop;\n        });\n\n        return false;\n      }\n    })\n    .toString();\n}\n\nfunction pluginCreator() {\n  return {\n    postcssPlugin: 'postcss-minify-gradients',\n    OnceExit(css) {\n      css.walkDecls(optimise);\n    },\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;\n"]},"metadata":{},"sourceType":"script"}