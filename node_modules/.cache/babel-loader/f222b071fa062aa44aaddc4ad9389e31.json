{"ast":null,"code":"'use strict';\n\nconst path = require('path');\n\nconst postcss = require('postcss');\n\nconst yaml = require('yaml');\n\nconst {\n  lilconfigSync\n} = require('lilconfig');\n\nconst cssnano = 'cssnano';\n/*\n * @param {string} moduleId\n * @returns {boolean}\n */\n\nfunction isResolvable(moduleId) {\n  try {\n    require.resolve(moduleId);\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/*\n * preset can be one of four possibilities:\n * preset = 'default'\n * preset = ['default', {}]\n * preset = function <- to be invoked\n * preset = {plugins: []} <- already invoked function\n */\n\n\nfunction resolvePreset(preset) {\n  let fn, options;\n\n  if (Array.isArray(preset)) {\n    fn = preset[0];\n    options = preset[1];\n  } else {\n    fn = preset;\n    options = {};\n  } // For JS setups where we invoked the preset already\n\n\n  if (preset.plugins) {\n    return preset.plugins;\n  } // Provide an alias for the default preset, as it is built-in.\n\n\n  if (fn === 'default') {\n    return require('cssnano-preset-default')(options).plugins;\n  } // For non-JS setups; we'll need to invoke the preset ourselves.\n\n\n  if (typeof fn === 'function') {\n    return fn(options).plugins;\n  } // Try loading a preset from node_modules\n\n\n  if (isResolvable(fn)) {\n    return require(fn)(options).plugins;\n  }\n\n  const sugar = `cssnano-preset-${fn}`; // Try loading a preset from node_modules (sugar)\n\n  if (isResolvable(sugar)) {\n    return require(sugar)(options).plugins;\n  } // If all else fails, we probably have a typo in the config somewhere\n\n\n  throw new Error(`Cannot load preset \"${fn}\". Please check your configuration for errors and try again.`);\n}\n/*\n * cssnano will look for configuration firstly as options passed\n * directly to it, and failing this it will use lilconfig to\n * load an external file.\n */\n\n\nfunction resolveConfig(options) {\n  if (options.preset) {\n    return resolvePreset(options.preset);\n  }\n\n  let searchPath = process.cwd();\n  let configPath = null;\n\n  if (options.configFile) {\n    searchPath = null;\n    configPath = path.resolve(process.cwd(), options.configFile);\n  }\n\n  const configExplorer = lilconfigSync(cssnano, {\n    searchPlaces: ['package.json', '.cssnanorc', '.cssnanorc.json', '.cssnanorc.yaml', '.cssnanorc.yml', '.cssnanorc.js', 'cssnano.config.js'],\n    loaders: {\n      '.yaml': (filepath, content) => yaml.parse(content),\n      '.yml': (filepath, content) => yaml.parse(content)\n    }\n  });\n  const config = configPath ? configExplorer.load(configPath) : configExplorer.search(searchPath);\n\n  if (config === null) {\n    return resolvePreset('default');\n  }\n\n  return resolvePreset(config.config.preset || config.config);\n}\n\nconst cssnanoPlugin = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (Array.isArray(options.plugins)) {\n    if (!options.preset || !options.preset.plugins) {\n      options.preset = {\n        plugins: []\n      };\n    }\n\n    options.plugins.forEach(plugin => {\n      if (Array.isArray(plugin)) {\n        const [pluginDef, opts = {}] = plugin;\n\n        if (typeof pluginDef === 'string' && isResolvable(pluginDef)) {\n          options.preset.plugins.push([require(pluginDef), opts]);\n        } else {\n          options.preset.plugins.push([pluginDef, opts]);\n        }\n      } else if (typeof plugin === 'string' && isResolvable(plugin)) {\n        options.preset.plugins.push([require(plugin), {}]);\n      } else {\n        options.preset.plugins.push([plugin, {}]);\n      }\n    });\n  }\n\n  const plugins = [];\n  const nanoPlugins = resolveConfig(options);\n\n  for (const nanoPlugin of nanoPlugins) {\n    if (Array.isArray(nanoPlugin)) {\n      const [processor, opts] = nanoPlugin;\n\n      if (typeof opts === 'undefined' || typeof opts === 'object' && !opts.exclude || typeof opts === 'boolean' && opts === true) {\n        plugins.push(processor(opts));\n      }\n    } else {\n      plugins.push(nanoPlugin);\n    }\n  }\n\n  return postcss(plugins);\n};\n\ncssnanoPlugin.postcss = true;\nmodule.exports = cssnanoPlugin;","map":{"version":3,"sources":["/home/hp/Js/React_practise/BookStore/books/node_modules/cssnano/src/index.js"],"names":["path","require","postcss","yaml","lilconfigSync","cssnano","isResolvable","moduleId","resolve","e","resolvePreset","preset","fn","options","Array","isArray","plugins","sugar","Error","resolveConfig","searchPath","process","cwd","configPath","configFile","configExplorer","searchPlaces","loaders","filepath","content","parse","config","load","search","cssnanoPlugin","forEach","plugin","pluginDef","opts","push","nanoPlugins","nanoPlugin","processor","exclude","module","exports"],"mappings":"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","sourcesContent":["'use strict';\nconst path = require('path');\nconst postcss = require('postcss');\nconst yaml = require('yaml');\nconst { lilconfigSync } = require('lilconfig');\n\nconst cssnano = 'cssnano';\n\n/*\n * @param {string} moduleId\n * @returns {boolean}\n */\nfunction isResolvable(moduleId) {\n  try {\n    require.resolve(moduleId);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/*\n * preset can be one of four possibilities:\n * preset = 'default'\n * preset = ['default', {}]\n * preset = function <- to be invoked\n * preset = {plugins: []} <- already invoked function\n */\n\nfunction resolvePreset(preset) {\n  let fn, options;\n\n  if (Array.isArray(preset)) {\n    fn = preset[0];\n    options = preset[1];\n  } else {\n    fn = preset;\n    options = {};\n  }\n\n  // For JS setups where we invoked the preset already\n  if (preset.plugins) {\n    return preset.plugins;\n  }\n\n  // Provide an alias for the default preset, as it is built-in.\n  if (fn === 'default') {\n    return require('cssnano-preset-default')(options).plugins;\n  }\n\n  // For non-JS setups; we'll need to invoke the preset ourselves.\n  if (typeof fn === 'function') {\n    return fn(options).plugins;\n  }\n\n  // Try loading a preset from node_modules\n  if (isResolvable(fn)) {\n    return require(fn)(options).plugins;\n  }\n\n  const sugar = `cssnano-preset-${fn}`;\n\n  // Try loading a preset from node_modules (sugar)\n  if (isResolvable(sugar)) {\n    return require(sugar)(options).plugins;\n  }\n\n  // If all else fails, we probably have a typo in the config somewhere\n  throw new Error(\n    `Cannot load preset \"${fn}\". Please check your configuration for errors and try again.`\n  );\n}\n\n/*\n * cssnano will look for configuration firstly as options passed\n * directly to it, and failing this it will use lilconfig to\n * load an external file.\n */\n\nfunction resolveConfig(options) {\n  if (options.preset) {\n    return resolvePreset(options.preset);\n  }\n\n  let searchPath = process.cwd();\n  let configPath = null;\n\n  if (options.configFile) {\n    searchPath = null;\n    configPath = path.resolve(process.cwd(), options.configFile);\n  }\n\n  const configExplorer = lilconfigSync(cssnano, {\n    searchPlaces: [\n      'package.json',\n      '.cssnanorc',\n      '.cssnanorc.json',\n      '.cssnanorc.yaml',\n      '.cssnanorc.yml',\n      '.cssnanorc.js',\n      'cssnano.config.js',\n    ],\n    loaders: {\n      '.yaml': (filepath, content) => yaml.parse(content),\n      '.yml': (filepath, content) => yaml.parse(content),\n    },\n  });\n  const config = configPath\n    ? configExplorer.load(configPath)\n    : configExplorer.search(searchPath);\n\n  if (config === null) {\n    return resolvePreset('default');\n  }\n\n  return resolvePreset(config.config.preset || config.config);\n}\n\nconst cssnanoPlugin = (options = {}) => {\n  if (Array.isArray(options.plugins)) {\n    if (!options.preset || !options.preset.plugins) {\n      options.preset = { plugins: [] };\n    }\n\n    options.plugins.forEach((plugin) => {\n      if (Array.isArray(plugin)) {\n        const [pluginDef, opts = {}] = plugin;\n        if (typeof pluginDef === 'string' && isResolvable(pluginDef)) {\n          options.preset.plugins.push([require(pluginDef), opts]);\n        } else {\n          options.preset.plugins.push([pluginDef, opts]);\n        }\n      } else if (typeof plugin === 'string' && isResolvable(plugin)) {\n        options.preset.plugins.push([require(plugin), {}]);\n      } else {\n        options.preset.plugins.push([plugin, {}]);\n      }\n    });\n  }\n  const plugins = [];\n  const nanoPlugins = resolveConfig(options);\n  for (const nanoPlugin of nanoPlugins) {\n    if (Array.isArray(nanoPlugin)) {\n      const [processor, opts] = nanoPlugin;\n      if (\n        typeof opts === 'undefined' ||\n        (typeof opts === 'object' && !opts.exclude) ||\n        (typeof opts === 'boolean' && opts === true)\n      ) {\n        plugins.push(processor(opts));\n      }\n    } else {\n      plugins.push(nanoPlugin);\n    }\n  }\n  return postcss(plugins);\n};\n\ncssnanoPlugin.postcss = true;\nmodule.exports = cssnanoPlugin;\n"]},"metadata":{},"sourceType":"script"}